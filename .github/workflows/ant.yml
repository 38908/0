on: workflow_dispatch
jobs:
# build-macos-native:
#   runs-on: macos-13
#   steps:
#   - uses: actions/checkout@v4
#   - uses: actions/setup-java@v4
#     with:
#       distribution: 'zulu'
#       java-version: '8'
#   - run: ant generate-all compile_native
  build-windows-x86_64-native:
    runs-on: windows-latest
    steps:
#   - run: curl -O https://cfdownload.adobe.com/pub/adobe/coldfusion/java/java8/java8u441/jdk/jdk-8u441-windows-x64.zip
#   - uses: actions/setup-java@v4
#     with:
#      distribution: 'jdkfile'
#       jdkFile: jdk-8u441-windows-x64.zip
#       java-version: 8
    - uses: actions/setup-java@v4
      with:
        distribution: 'zulu'
        java-version: 8
    - uses: ilammy/msvc-dev-cmd@v1
    - uses: actions/checkout@v4
    - run: ant all
    - run: dir /s /b
#   - uses: actions/upload-artifact@v4
#     with:
#       path: |
#         libs/lwjgl.jar
#         libs/lwjgl_util_applet.jar
#         libs/lwjgl_test.jar
#         libs/lwjgl_util.jar
#         libs/windows/lwjgl64.dll
#       compression-level: 9
# build-windows-x86-native:
#   runs-on: windows-latest
#   steps:
#   - uses: actions/checkout@v4
#   - uses: actions/setup-java@v4
#     with:
#       distribution: 'zulu'
#       java-version: '8'
#       architecture: x86
#   - uses: ilammy/msvc-dev-cmd@v1
#     with:
#       arch: amd64_x86
#   - run: ant generate-all compile_native
#   - uses: actions/cache/save@v4
#     with:
#       path: libs/lwjgl.dll
#       key: ${{ runner.os }}-${{ hashFiles('libs/lwjgl.dll') }}
#       enableCrossOsArchive: true
